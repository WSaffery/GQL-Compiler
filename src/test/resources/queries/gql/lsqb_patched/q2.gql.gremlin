g.V().hasLabel("Person").as("person1").as("#COMPILER_s-381565701").bothE().hasLabel("knows").otherV().hasLabel("Person").as("person2").select("person1").as("#COMPILER_s-969546629").toE(Direction.IN).hasLabel("hasCreator").otherV().hasLabel("Comment").as("comment").toE(Direction.OUT).hasLabel("replyOf").otherV().hasLabel("Post").as("post").toE(Direction.OUT).hasLabel("hasCreator").otherV().where(P.eq("person2")).count().project("COUNT(*)").by()