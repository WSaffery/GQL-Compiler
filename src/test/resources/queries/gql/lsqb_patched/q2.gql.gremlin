g.V().hasLabel("Person").as("person1").as("#COMPILER_s694446887").bothE().hasLabel("knows").otherV().hasLabel("Person").as("person2").select("person1").as("#COMPILER_s-1821760418").toE(Direction.IN).hasLabel("hasCreator").otherV().hasLabel("Comment").as("comment").toE(Direction.OUT).hasLabel("replyOf").otherV().hasLabel("Post").as("post").toE(Direction.OUT).hasLabel("hasCreator").otherV().where(P.eq("person2")).count().project("COUNT(*)").by()