g.V().hasLabel("Person").as("person1").as("#COMPILER_s1198600194").toE(Direction.OUT).hasLabel("isLocatedIn").otherV().hasLabel("City").as("city1").toE(Direction.OUT).hasLabel("isPartOf").otherV().hasLabel("Country").as("country").select("person1").as("#COMPILER_s1320057023").bothE().hasLabel("knows").otherV().hasLabel("Person").as("person2").toE(Direction.OUT).hasLabel("isLocatedIn").otherV().hasLabel("City").as("city2").toE(Direction.OUT).hasLabel("isPartOf").otherV().where(P.eq("country")).select("person1").as("#COMPILER_s862304765").bothE().hasLabel("knows").otherV().hasLabel("Person").as("person3").toE(Direction.OUT).hasLabel("isLocatedIn").otherV().hasLabel("City").as("city3").toE(Direction.OUT).hasLabel("isPartOf").otherV().where(P.eq("country")).select("person2").as("#COMPILER_s1349071329").bothE().hasLabel("knows").otherV().where(P.eq("person3")).count().project("COUNT(*)").by()